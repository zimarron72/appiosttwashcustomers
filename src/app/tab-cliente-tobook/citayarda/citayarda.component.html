<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button autoHide="false"></ion-menu-button>
    </ion-buttons>
    <ion-title>To Book</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
<mat-card class="yarda">
  <mat-card-header>
    <mat-card-title>Appointment in ours site</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form  [formGroup]="form_tobookyarda" (ngSubmit)="submit()">

    <mat-form-field>
      <mat-select placeholder="Your vehicle" [(ngModel)]="selectedOption"  formControlName="vehicle" (selectionChange)="cambiar($event.value)" >
        <mat-option   [value]="0" >
       Select
        </mat-option>
        <mat-option   [value]="valor" >
         {{etiqueta}}
         </mat-option>
          <mat-option *ngFor="let vehiculo of vehiculoscliente"  [value]="vehiculo.id" >
          Unit number: {{vehiculo.unit_number}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="(form_tobookyarda.get('vehicle').hasError('required') && form_tobookyarda.get('vehicle').touched)">vehicle is required</mat-error>      
    </mat-form-field>
    <br>

    <mat-form-field>
      <mat-select placeholder="Which of our yards?" [(ngModel)]="selectedOption1"  formControlName="yard"  >
       
         <mat-option   [value]="0" >
           Select
            </mat-option>
  
           <mat-option *ngFor="let site of sitiosyard"  [value]="site.id" >
             {{site.nombre_yard}}
           </mat-option>
         </mat-select>
         <mat-error *ngIf="(form_tobookyarda.get('yard').hasError('required') && form_tobookyarda.get('yard').touched)">yard is required</mat-error>      
     </mat-form-field><br>





    <mat-form-field >
      <mat-label>Choose a date</mat-label>
      <input matInput [matDatepicker]="picker" [min]="minDate"  formControlName="diacita">
      <mat-error *ngIf="(form_tobookyarda.get('diacita').hasError('required') && form_tobookyarda.get('diacita').touched)">Date is required</mat-error> 
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <br>
    
    <mat-form-field>
             <mat-select placeholder="Hour"  formControlName="horacita"  >
        <mat-option *ngFor="let hora of horario"  [value]="hora.valor" >
          {{hora.etiqueta}}
        </mat-option>
      </mat-select>
      <small>Business hours are 9:00 am to 6:00 pm</small>
      <mat-error *ngIf="(form_tobookyarda.get('horacita').hasError('required') && form_tobookyarda.get('horacita').touched)">Hour is required</mat-error>      
  </mat-form-field>
  <br> 
  






  <button id="btnSubmit" mat-flat-button type="submit" color="primary" class="yarda-continuar">Continue</button>
    </form><br>
    <button  mat-flat-button  color="primary" class="yarda-cancel" (click)='cancel()'>Cancel</button>
  </mat-card-content>
</mat-card>
</ion-content>





